---
title:  Integral of a Staircase function 
description: Integral of a staircase function is independent of the choice of partition
visible: true
approved: false
category: Integration
---

import StepFunctionIntegral from "../../components/applets/StepFunctionIntegral";
import MathBlock from "../../components/MathBlock";

# Integral of a Staircase function 

<MathBlock type="definition" title="Integral of a staircase function">
Let $\varphi : [a, b] \to \mathbb{R}$ be a staircase function with respect to the partition  
$Z : a = x_0 < \dots < x_n = b$ of $[a, b]$, and let $c_1, \dots, c_n \in \mathbb{R}$ be such that  
$\varphi(x) = c_i$ for $x \in (x_{i-1}, x_i)$ and $i = 1, \dots, n$.  
Then the *integral* of $\varphi$ is defined by

$$
I(\varphi) := I_Z(\varphi) := \sum_{i=1}^n c_i \cdot (x_i - x_{i-1}).
$$

</MathBlock>
<br/>
<MathBlock type="theorem" title="Integral of a staircase function is independent of the choice of partition">
Let $\varphi : [a, b] \to \mathbb{R}$ be a staircase function with respect to the partitions  
$Z_1 : a = x_0 < \dots < x_n = b$ and $Z_2 : a = y_0 < \dots < y_n = b$ of $[a, b]$.  
Then we have

$$
I_{Z_1}(\varphi) = I_{Z_2}(\varphi),
$$

</MathBlock>

---
<StepFunctionIntegral client:load />
---

## Description
[Link to code](https://github.com/daniele-bolla/math-applets/blob/main/src/components/applets/StepFunctionIntegral.tsx).

This applet illustrates the definition of partitions and integral of a staircase functions.

I selected a staircase function (to be integrated) by prescribed jump points
```const jumps = [-4, -1, 2, 5, 8]```
and corresponding constant values on each interval
```const values = [1.5, -2, 2.5, -1]```.

Two different partitions of the interval are considered:
the partition $Z_1$, consisting of all points in $[a,b]$ that are multiples of $2$,
and the partition $Z_2$, consisting of all points in $[a,b]$ that are multiples of $3$.
Since these partitions partially overlap, their combination naturally produces a refinement, 
which is displayed when both partitions are active.

Toggle buttons allow each partition to be shown independently or simultaneously.
When both are active, the applet highlights the refinement obtained by taking the union of their cuts.
Vertical lines indicate partition points, while shaded rectangles represent the contribution of each subinterval to the integral.

By dragging the endpoints $ùëé$ and $ùëè$, the interval of integration can be modified dynamically.
The applet always integrates on $[min‚Å°(a,b),max‚Å°(a,b)][min(a,b),max(a,b)]$, so the order of the two gliders does not matter.

During dragging, the partition cuts and areas are updated continuously; once the drag ends, 
the sum of each subinterval and their total sum are displayed.
 
For each subinterval $(t_i,t_{i+1})$ the code picks the midpoint $\xi_i=\frac{t_i+t_{i+1}}{2}$ 
and computes the rectangle contribution $\varphi(\xi_i)(t_{i+1}-t_i)$, i could reuse the stored values,
 but i need a mid point to place the sum text.
 ```typescript
    const mid = (x1 + x2) / 2;
    const h = phi(mid);
    const subArea = h * (x2 - x1);
    total += subArea;
```
 

This visual behavior mirrors the proof that the integral of a staircase function 
is independent of the chosen partition and depends only on the function
 itself, thereby illustrating the invariance of the integral under partitons.